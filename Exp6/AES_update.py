from util import *
#from copy import deepcopy
from time import time
Ret0=[[81, 244, 167, 80], [126, 65, 101, 83], [26, 23, 164, 195], [58, 39, 94, 150], [59, 171, 107, 203], [31, 157, 69, 241], [172, 250, 88, 171], [75, 227, 3, 147], [32, 48, 250, 85], [173, 118, 109, 246], [136, 204, 118, 145], [245, 2, 76, 37], [79, 229, 215, 252], [197, 42, 203, 215], [38, 53, 68, 128], [181, 98, 163, 143], [222, 177, 90, 73], [37, 186, 27, 103], [69, 234, 14, 152], [93, 254, 192, 225], [195, 47, 117, 2], [129, 76, 240, 18], [141, 70, 151, 163], [107, 211, 249, 198], [3, 143, 95, 231], [21, 146, 156, 149], [191, 109, 122, 235], [149, 82, 89, 218], [212, 190, 131, 45], [88, 116, 33, 211], [73, 224, 105, 41], [142, 201, 200, 68], [117, 194, 137, 106], [244, 142, 121, 120], [153, 88, 62, 107], [39, 185, 113, 221], [190, 225, 79, 182], [240, 136, 173, 23], [201, 32, 172, 102], [125, 206, 58, 180], [99, 223, 74, 24], [229, 26, 49, 130], [151, 81, 51, 96], [98, 83, 127, 69], [177, 100, 119, 224], [187, 107, 174, 132], [254, 129, 160, 28], [249, 8, 43, 148], [112, 72, 104, 88], [143, 69, 253, 25], [148, 222, 108, 135], [82, 123, 248, 183], [171, 115, 211, 35], [114, 75, 2, 226], [227, 31, 143, 87], [102, 85, 171, 42], [178, 235, 40, 7], [47, 181, 194, 3], [134, 197, 123, 154], [211, 55, 8, 165], [48, 40, 135, 242], [35, 191, 165, 178], [2, 3, 106, 186], [237, 22, 130, 92], [138, 207, 28, 43], [167, 121, 180, 146], [243, 7, 242, 240], [78, 105, 226, 161], [101, 218, 244, 205], [6, 5, 190, 213], [209, 52, 98, 31], [196, 166, 254, 138], [52, 46, 83, 157], [162, 243, 85, 160], [5, 138, 225, 50], [164, 246, 235, 117], [11, 131, 236, 57], [64, 96, 239, 170], [94, 113, 159, 6], [189, 110, 16, 81], [62, 33, 138, 249], [150, 221, 6, 61], [221, 62, 5, 174], [77, 230, 189, 70], [145, 84, 141, 181], [113, 196, 93, 5], [4, 6, 212, 111], [96, 80, 21, 255], [25, 152, 251, 36], [214, 189, 233, 151], [137, 64, 67, 204], [103, 217, 158, 119], [176, 232, 66, 189], [7, 137, 139, 136], [231, 25, 91, 56], [121, 200, 238, 219], [161, 124, 10, 71], [124, 66, 15, 233], [248, 132, 30, 201], [0, 0, 0, 0], [9, 128, 134, 131], [50, 43, 237, 72], [30, 17, 112, 172], [108, 90, 114, 78], [253, 14, 255, 251], [15, 133, 56, 86], [61, 174, 213, 30], [54, 45, 57, 39], [10, 15, 217, 100], [104, 92, 166, 33], [155, 91, 84, 209], [36, 54, 46, 58], [12, 10, 103, 177], [147, 87, 231, 15], [180, 238, 150, 210], [27, 155, 145, 158], [128, 192, 197, 79], [97, 220, 32, 162], [90, 119, 75, 105], [28, 18, 26, 22], [226, 147, 186, 10], [192, 160, 42, 229], [60, 34, 224, 67], [18, 27, 23, 29], [14, 9, 13, 11], [242, 139, 199, 173], [45, 182, 168, 185], [20, 30, 169, 200], [87, 241, 25, 133], [175, 117, 7, 76], [238, 153, 221, 187], [163, 127, 96, 253], [247, 1, 38, 159], [92, 114, 245, 188], [68, 102, 59, 197], [91, 251, 126, 52], [139, 67, 41, 118], [203, 35, 198, 220], [182, 237, 252, 104], [184, 228, 241, 99], [215, 49, 220, 202], [66, 99, 133, 16], [19, 151, 34, 64], [132, 198, 17, 32], [133, 74, 36, 125], [210, 187, 61, 248], [174, 249, 50, 17], [199, 41, 161, 109], [29, 158, 47, 75], [220, 178, 48, 243], [13, 134, 82, 236], [119, 193, 227, 208], [43, 179, 22, 108], [169, 112, 185, 153], [17, 148, 72, 250], [71, 233, 100, 34], [168, 252, 140, 196], [160, 240, 63, 26], [86, 125, 44, 216], [34, 51, 144, 239], [135, 73, 78, 199], [217, 56, 209, 193], [140, 202, 162, 254], [152, 212, 11, 54], [166, 245, 129, 207], [165, 122, 222, 40], [218, 183, 142, 38], [63, 173, 191, 164], [44, 58, 157, 228], [80, 120, 146, 13], [106, 95, 204, 155], [84, 126, 70, 98], [246, 141, 19, 194], [144, 216, 184, 232], [46, 57, 247, 94], [130, 195, 175, 245], [159, 93, 128, 190], [105, 208, 147, 124], [111, 213, 45, 169], [207, 37, 18, 179], [200, 172, 153, 59], [16, 24, 125, 167], [232, 156, 99, 110], [219, 59, 187, 123], [205, 38, 120, 9], [110, 89, 24, 244], [236, 154, 183, 1], [131, 79, 154, 168], [230, 149, 110, 101], [170, 255, 230, 126], [33, 188, 207, 8], [239, 21, 232, 230], [186, 231, 155, 217], [74, 111, 54, 206], [234, 159, 9, 212], [41, 176, 124, 214], [49, 164, 178, 175], [42, 63, 35, 49], [198, 165, 148, 48], [53, 162, 102, 192], [116, 78, 188, 55], [252, 130, 202, 166], [224, 144, 208, 176], [51, 167, 216, 21], [241, 4, 152, 74], [65, 236, 218, 247], [127, 205, 80, 14], [23, 145, 246, 47], [118, 77, 214, 141], [67, 239, 176, 77], [204, 170, 77, 84], [228, 150, 4, 223], [158, 209, 181, 227], [76, 106, 136, 27], [193, 44, 31, 184], [70, 101, 81, 127], [157, 94, 234, 4], [1, 140, 53, 93], [250, 135, 116, 115], [251, 11, 65, 46], [179, 103, 29, 90], [146, 219, 210, 82], [233, 16, 86, 51], [109, 214, 71, 19], [154, 215, 97, 140], [55, 161, 12, 122], [89, 248, 20, 142], [235, 19, 60, 137], [206, 169, 39, 238], [183, 97, 201, 53], [225, 28, 229, 237], [122, 71, 177, 60], [156, 210, 223, 89], [85, 242, 115, 63], [24, 20, 206, 121], [115, 199, 55, 191], [83, 247, 205, 234], [95, 253, 170, 91], [223, 61, 111, 20], [120, 68, 219, 134], [202, 175, 243, 129], [185, 104, 196, 62], [56, 36, 52, 44], [194, 163, 64, 95], [22, 29, 195, 114], [188, 226, 37, 12], [40, 60, 73, 139], [255, 13, 149, 65], [57, 168, 1, 113], [8, 12, 179, 222], [216, 180, 228, 156], [100, 86, 193, 144], [123, 203, 132, 97], [213, 50, 182, 112], [72, 108, 92, 116], [208, 184, 87, 66]]
Ret1=[[80, 81, 244, 167], [83, 126, 65, 101], [195, 26, 23, 164], [150, 58, 39, 94], [203, 59, 171, 107], [241, 31, 157, 69], [171, 172, 250, 88], [147, 75, 227, 3], [85, 32, 48, 250], [246, 173, 118, 109], [145, 136, 204, 118], [37, 245, 2, 76], [252, 79, 229, 215], [215, 197, 42, 203], [128, 38, 53, 68], [143, 181, 98, 163], [73, 222, 177, 90], [103, 37, 186, 27], [152, 69, 234, 14], [225, 93, 254, 192], [2, 195, 47, 117], [18, 129, 76, 240], [163, 141, 70, 151], [198, 107, 211, 249], [231, 3, 143, 95], [149, 21, 146, 156], [235, 191, 109, 122], [218, 149, 82, 89], [45, 212, 190, 131], [211, 88, 116, 33], [41, 73, 224, 105], [68, 142, 201, 200], [106, 117, 194, 137], [120, 244, 142, 121], [107, 153, 88, 62], [221, 39, 185, 113], [182, 190, 225, 79], [23, 240, 136, 173], [102, 201, 32, 172], [180, 125, 206, 58], [24, 99, 223, 74], [130, 229, 26, 49], [96, 151, 81, 51], [69, 98, 83, 127], [224, 177, 100, 119], [132, 187, 107, 174], [28, 254, 129, 160], [148, 249, 8, 43], [88, 112, 72, 104], [25, 143, 69, 253], [135, 148, 222, 108], [183, 82, 123, 248], [35, 171, 115, 211], [226, 114, 75, 2], [87, 227, 31, 143], [42, 102, 85, 171], [7, 178, 235, 40], [3, 47, 181, 194], [154, 134, 197, 123], [165, 211, 55, 8], [242, 48, 40, 135], [178, 35, 191, 165], [186, 2, 3, 106], [92, 237, 22, 130], [43, 138, 207, 28], [146, 167, 121, 180], [240, 243, 7, 242], [161, 78, 105, 226], [205, 101, 218, 244], [213, 6, 5, 190], [31, 209, 52, 98], [138, 196, 166, 254], [157, 52, 46, 83], [160, 162, 243, 85], [50, 5, 138, 225], [117, 164, 246, 235], [57, 11, 131, 236], [170, 64, 96, 239], [6, 94, 113, 159], [81, 189, 110, 16], [249, 62, 33, 138], [61, 150, 221, 6], [174, 221, 62, 5], [70, 77, 230, 189], [181, 145, 84, 141], [5, 113, 196, 93], [111, 4, 6, 212], [255, 96, 80, 21], [36, 25, 152, 251], [151, 214, 189, 233], [204, 137, 64, 67], [119, 103, 217, 158], [189, 176, 232, 66], [136, 7, 137, 139], [56, 231, 25, 91], [219, 121, 200, 238], [71, 161, 124, 10], [233, 124, 66, 15], [201, 248, 132, 30], [0, 0, 0, 0], [131, 9, 128, 134], [72, 50, 43, 237], [172, 30, 17, 112], [78, 108, 90, 114], [251, 253, 14, 255], [86, 15, 133, 56], [30, 61, 174, 213], [39, 54, 45, 57], [100, 10, 15, 217], [33, 104, 92, 166], [209, 155, 91, 84], [58, 36, 54, 46], [177, 12, 10, 103], [15, 147, 87, 231], [210, 180, 238, 150], [158, 27, 155, 145], [79, 128, 192, 197], [162, 97, 220, 32], [105, 90, 119, 75], [22, 28, 18, 26], [10, 226, 147, 186], [229, 192, 160, 42], [67, 60, 34, 224], [29, 18, 27, 23], [11, 14, 9, 13], [173, 242, 139, 199], [185, 45, 182, 168], [200, 20, 30, 169], [133, 87, 241, 25], [76, 175, 117, 7], [187, 238, 153, 221], [253, 163, 127, 96], [159, 247, 1, 38], [188, 92, 114, 245], [197, 68, 102, 59], [52, 91, 251, 126], [118, 139, 67, 41], [220, 203, 35, 198], [104, 182, 237, 252], [99, 184, 228, 241], [202, 215, 49, 220], [16, 66, 99, 133], [64, 19, 151, 34], [32, 132, 198, 17], [125, 133, 74, 36], [248, 210, 187, 61], [17, 174, 249, 50], [109, 199, 41, 161], [75, 29, 158, 47], [243, 220, 178, 48], [236, 13, 134, 82], [208, 119, 193, 227], [108, 43, 179, 22], [153, 169, 112, 185], [250, 17, 148, 72], [34, 71, 233, 100], [196, 168, 252, 140], [26, 160, 240, 63], [216, 86, 125, 44], [239, 34, 51, 144], [199, 135, 73, 78], [193, 217, 56, 209], [254, 140, 202, 162], [54, 152, 212, 11], [207, 166, 245, 129], [40, 165, 122, 222], [38, 218, 183, 142], [164, 63, 173, 191], [228, 44, 58, 157], [13, 80, 120, 146], [155, 106, 95, 204], [98, 84, 126, 70], [194, 246, 141, 19], [232, 144, 216, 184], [94, 46, 57, 247], [245, 130, 195, 175], [190, 159, 93, 128], [124, 105, 208, 147], [169, 111, 213, 45], [179, 207, 37, 18], [59, 200, 172, 153], [167, 16, 24, 125], [110, 232, 156, 99], [123, 219, 59, 187], [9, 205, 38, 120], [244, 110, 89, 24], [1, 236, 154, 183], [168, 131, 79, 154], [101, 230, 149, 110], [126, 170, 255, 230], [8, 33, 188, 207], [230, 239, 21, 232], [217, 186, 231, 155], [206, 74, 111, 54], [212, 234, 159, 9], [214, 41, 176, 124], [175, 49, 164, 178], [49, 42, 63, 35], [48, 198, 165, 148], [192, 53, 162, 102], [55, 116, 78, 188], [166, 252, 130, 202], [176, 224, 144, 208], [21, 51, 167, 216], [74, 241, 4, 152], [247, 65, 236, 218], [14, 127, 205, 80], [47, 23, 145, 246], [141, 118, 77, 214], [77, 67, 239, 176], [84, 204, 170, 77], [223, 228, 150, 4], [227, 158, 209, 181], [27, 76, 106, 136], [184, 193, 44, 31], [127, 70, 101, 81], [4, 157, 94, 234], [93, 1, 140, 53], [115, 250, 135, 116], [46, 251, 11, 65], [90, 179, 103, 29], [82, 146, 219, 210], [51, 233, 16, 86], [19, 109, 214, 71], [140, 154, 215, 97], [122, 55, 161, 12], [142, 89, 248, 20], [137, 235, 19, 60], [238, 206, 169, 39], [53, 183, 97, 201], [237, 225, 28, 229], [60, 122, 71, 177], [89, 156, 210, 223], [63, 85, 242, 115], [121, 24, 20, 206], [191, 115, 199, 55], [234, 83, 247, 205], [91, 95, 253, 170], [20, 223, 61, 111], [134, 120, 68, 219], [129, 202, 175, 243], [62, 185, 104, 196], [44, 56, 36, 52], [95, 194, 163, 64], [114, 22, 29, 195], [12, 188, 226, 37], [139, 40, 60, 73], [65, 255, 13, 149], [113, 57, 168, 1], [222, 8, 12, 179], [156, 216, 180, 228], [144, 100, 86, 193], [97, 123, 203, 132], [112, 213, 50, 182], [116, 72, 108, 92], [66, 208, 184, 87]]
Ret2=[[167, 80, 81, 244], [101, 83, 126, 65], [164, 195, 26, 23], [94, 150, 58, 39], [107, 203, 59, 171], [69, 241, 31, 157], [88, 171, 172, 250], [3, 147, 75, 227], [250, 85, 32, 48], [109, 246, 173, 118], [118, 145, 136, 204], [76, 37, 245, 2], [215, 252, 79, 229], [203, 215, 197, 42], [68, 128, 38, 53], [163, 143, 181, 98], [90, 73, 222, 177], [27, 103, 37, 186], [14, 152, 69, 234], [192, 225, 93, 254], [117, 2, 195, 47], [240, 18, 129, 76], [151, 163, 141, 70], [249, 198, 107, 211], [95, 231, 3, 143], [156, 149, 21, 146], [122, 235, 191, 109], [89, 218, 149, 82], [131, 45, 212, 190], [33, 211, 88, 116], [105, 41, 73, 224], [200, 68, 142, 201], [137, 106, 117, 194], [121, 120, 244, 142], [62, 107, 153, 88], [113, 221, 39, 185], [79, 182, 190, 225], [173, 23, 240, 136], [172, 102, 201, 32], [58, 180, 125, 206], [74, 24, 99, 223], [49, 130, 229, 26], [51, 96, 151, 81], [127, 69, 98, 83], [119, 224, 177, 100], [174, 132, 187, 107], [160, 28, 254, 129], [43, 148, 249, 8], [104, 88, 112, 72], [253, 25, 143, 69], [108, 135, 148, 222], [248, 183, 82, 123], [211, 35, 171, 115], [2, 226, 114, 75], [143, 87, 227, 31], [171, 42, 102, 85], [40, 7, 178, 235], [194, 3, 47, 181], [123, 154, 134, 197], [8, 165, 211, 55], [135, 242, 48, 40], [165, 178, 35, 191], [106, 186, 2, 3], [130, 92, 237, 22], [28, 43, 138, 207], [180, 146, 167, 121], [242, 240, 243, 7], [226, 161, 78, 105], [244, 205, 101, 218], [190, 213, 6, 5], [98, 31, 209, 52], [254, 138, 196, 166], [83, 157, 52, 46], [85, 160, 162, 243], [225, 50, 5, 138], [235, 117, 164, 246], [236, 57, 11, 131], [239, 170, 64, 96], [159, 6, 94, 113], [16, 81, 189, 110], [138, 249, 62, 33], [6, 61, 150, 221], [5, 174, 221, 62], [189, 70, 77, 230], [141, 181, 145, 84], [93, 5, 113, 196], [212, 111, 4, 6], [21, 255, 96, 80], [251, 36, 25, 152], [233, 151, 214, 189], [67, 204, 137, 64], [158, 119, 103, 217], [66, 189, 176, 232], [139, 136, 7, 137], [91, 56, 231, 25], [238, 219, 121, 200], [10, 71, 161, 124], [15, 233, 124, 66], [30, 201, 248, 132], [0, 0, 0, 0], [134, 131, 9, 128], [237, 72, 50, 43], [112, 172, 30, 17], [114, 78, 108, 90], [255, 251, 253, 14], [56, 86, 15, 133], [213, 30, 61, 174], [57, 39, 54, 45], [217, 100, 10, 15], [166, 33, 104, 92], [84, 209, 155, 91], [46, 58, 36, 54], [103, 177, 12, 10], [231, 15, 147, 87], [150, 210, 180, 238], [145, 158, 27, 155], [197, 79, 128, 192], [32, 162, 97, 220], [75, 105, 90, 119], [26, 22, 28, 18], [186, 10, 226, 147], [42, 229, 192, 160], [224, 67, 60, 34], [23, 29, 18, 27], [13, 11, 14, 9], [199, 173, 242, 139], [168, 185, 45, 182], [169, 200, 20, 30], [25, 133, 87, 241], [7, 76, 175, 117], [221, 187, 238, 153], [96, 253, 163, 127], [38, 159, 247, 1], [245, 188, 92, 114], [59, 197, 68, 102], [126, 52, 91, 251], [41, 118, 139, 67], [198, 220, 203, 35], [252, 104, 182, 237], [241, 99, 184, 228], [220, 202, 215, 49], [133, 16, 66, 99], [34, 64, 19, 151], [17, 32, 132, 198], [36, 125, 133, 74], [61, 248, 210, 187], [50, 17, 174, 249], [161, 109, 199, 41], [47, 75, 29, 158], [48, 243, 220, 178], [82, 236, 13, 134], [227, 208, 119, 193], [22, 108, 43, 179], [185, 153, 169, 112], [72, 250, 17, 148], [100, 34, 71, 233], [140, 196, 168, 252], [63, 26, 160, 240], [44, 216, 86, 125], [144, 239, 34, 51], [78, 199, 135, 73], [209, 193, 217, 56], [162, 254, 140, 202], [11, 54, 152, 212], [129, 207, 166, 245], [222, 40, 165, 122], [142, 38, 218, 183], [191, 164, 63, 173], [157, 228, 44, 58], [146, 13, 80, 120], [204, 155, 106, 95], [70, 98, 84, 126], [19, 194, 246, 141], [184, 232, 144, 216], [247, 94, 46, 57], [175, 245, 130, 195], [128, 190, 159, 93], [147, 124, 105, 208], [45, 169, 111, 213], [18, 179, 207, 37], [153, 59, 200, 172], [125, 167, 16, 24], [99, 110, 232, 156], [187, 123, 219, 59], [120, 9, 205, 38], [24, 244, 110, 89], [183, 1, 236, 154], [154, 168, 131, 79], [110, 101, 230, 149], [230, 126, 170, 255], [207, 8, 33, 188], [232, 230, 239, 21], [155, 217, 186, 231], [54, 206, 74, 111], [9, 212, 234, 159], [124, 214, 41, 176], [178, 175, 49, 164], [35, 49, 42, 63], [148, 48, 198, 165], [102, 192, 53, 162], [188, 55, 116, 78], [202, 166, 252, 130], [208, 176, 224, 144], [216, 21, 51, 167], [152, 74, 241, 4], [218, 247, 65, 236], [80, 14, 127, 205], [246, 47, 23, 145], [214, 141, 118, 77], [176, 77, 67, 239], [77, 84, 204, 170], [4, 223, 228, 150], [181, 227, 158, 209], [136, 27, 76, 106], [31, 184, 193, 44], [81, 127, 70, 101], [234, 4, 157, 94], [53, 93, 1, 140], [116, 115, 250, 135], [65, 46, 251, 11], [29, 90, 179, 103], [210, 82, 146, 219], [86, 51, 233, 16], [71, 19, 109, 214], [97, 140, 154, 215], [12, 122, 55, 161], [20, 142, 89, 248], [60, 137, 235, 19], [39, 238, 206, 169], [201, 53, 183, 97], [229, 237, 225, 28], [177, 60, 122, 71], [223, 89, 156, 210], [115, 63, 85, 242], [206, 121, 24, 20], [55, 191, 115, 199], [205, 234, 83, 247], [170, 91, 95, 253], [111, 20, 223, 61], [219, 134, 120, 68], [243, 129, 202, 175], [196, 62, 185, 104], [52, 44, 56, 36], [64, 95, 194, 163], [195, 114, 22, 29], [37, 12, 188, 226], [73, 139, 40, 60], [149, 65, 255, 13], [1, 113, 57, 168], [179, 222, 8, 12], [228, 156, 216, 180], [193, 144, 100, 86], [132, 97, 123, 203], [182, 112, 213, 50], [92, 116, 72, 108], [87, 66, 208, 184]]
Ret3=[[244, 167, 80, 81], [65, 101, 83, 126], [23, 164, 195, 26], [39, 94, 150, 58], [171, 107, 203, 59], [157, 69, 241, 31], [250, 88, 171, 172], [227, 3, 147, 75], [48, 250, 85, 32], [118, 109, 246, 173], [204, 118, 145, 136], [2, 76, 37, 245], [229, 215, 252, 79], [42, 203, 215, 197], [53, 68, 128, 38], [98, 163, 143, 181], [177, 90, 73, 222], [186, 27, 103, 37], [234, 14, 152, 69], [254, 192, 225, 93], [47, 117, 2, 195], [76, 240, 18, 129], [70, 151, 163, 141], [211, 249, 198, 107], [143, 95, 231, 3], [146, 156, 149, 21], [109, 122, 235, 191], [82, 89, 218, 149], [190, 131, 45, 212], [116, 33, 211, 88], [224, 105, 41, 73], [201, 200, 68, 142], [194, 137, 106, 117], [142, 121, 120, 244], [88, 62, 107, 153], [185, 113, 221, 39], [225, 79, 182, 190], [136, 173, 23, 240], [32, 172, 102, 201], [206, 58, 180, 125], [223, 74, 24, 99], [26, 49, 130, 229], [81, 51, 96, 151], [83, 127, 69, 98], [100, 119, 224, 177], [107, 174, 132, 187], [129, 160, 28, 254], [8, 43, 148, 249], [72, 104, 88, 112], [69, 253, 25, 143], [222, 108, 135, 148], [123, 248, 183, 82], [115, 211, 35, 171], [75, 2, 226, 114], [31, 143, 87, 227], [85, 171, 42, 102], [235, 40, 7, 178], [181, 194, 3, 47], [197, 123, 154, 134], [55, 8, 165, 211], [40, 135, 242, 48], [191, 165, 178, 35], [3, 106, 186, 2], [22, 130, 92, 237], [207, 28, 43, 138], [121, 180, 146, 167], [7, 242, 240, 243], [105, 226, 161, 78], [218, 244, 205, 101], [5, 190, 213, 6], [52, 98, 31, 209], [166, 254, 138, 196], [46, 83, 157, 52], [243, 85, 160, 162], [138, 225, 50, 5], [246, 235, 117, 164], [131, 236, 57, 11], [96, 239, 170, 64], [113, 159, 6, 94], [110, 16, 81, 189], [33, 138, 249, 62], [221, 6, 61, 150], [62, 5, 174, 221], [230, 189, 70, 77], [84, 141, 181, 145], [196, 93, 5, 113], [6, 212, 111, 4], [80, 21, 255, 96], [152, 251, 36, 25], [189, 233, 151, 214], [64, 67, 204, 137], [217, 158, 119, 103], [232, 66, 189, 176], [137, 139, 136, 7], [25, 91, 56, 231], [200, 238, 219, 121], [124, 10, 71, 161], [66, 15, 233, 124], [132, 30, 201, 248], [0, 0, 0, 0], [128, 134, 131, 9], [43, 237, 72, 50], [17, 112, 172, 30], [90, 114, 78, 108], [14, 255, 251, 253], [133, 56, 86, 15], [174, 213, 30, 61], [45, 57, 39, 54], [15, 217, 100, 10], [92, 166, 33, 104], [91, 84, 209, 155], [54, 46, 58, 36], [10, 103, 177, 12], [87, 231, 15, 147], [238, 150, 210, 180], [155, 145, 158, 27], [192, 197, 79, 128], [220, 32, 162, 97], [119, 75, 105, 90], [18, 26, 22, 28], [147, 186, 10, 226], [160, 42, 229, 192], [34, 224, 67, 60], [27, 23, 29, 18], [9, 13, 11, 14], [139, 199, 173, 242], [182, 168, 185, 45], [30, 169, 200, 20], [241, 25, 133, 87], [117, 7, 76, 175], [153, 221, 187, 238], [127, 96, 253, 163], [1, 38, 159, 247], [114, 245, 188, 92], [102, 59, 197, 68], [251, 126, 52, 91], [67, 41, 118, 139], [35, 198, 220, 203], [237, 252, 104, 182], [228, 241, 99, 184], [49, 220, 202, 215], [99, 133, 16, 66], [151, 34, 64, 19], [198, 17, 32, 132], [74, 36, 125, 133], [187, 61, 248, 210], [249, 50, 17, 174], [41, 161, 109, 199], [158, 47, 75, 29], [178, 48, 243, 220], [134, 82, 236, 13], [193, 227, 208, 119], [179, 22, 108, 43], [112, 185, 153, 169], [148, 72, 250, 17], [233, 100, 34, 71], [252, 140, 196, 168], [240, 63, 26, 160], [125, 44, 216, 86], [51, 144, 239, 34], [73, 78, 199, 135], [56, 209, 193, 217], [202, 162, 254, 140], [212, 11, 54, 152], [245, 129, 207, 166], [122, 222, 40, 165], [183, 142, 38, 218], [173, 191, 164, 63], [58, 157, 228, 44], [120, 146, 13, 80], [95, 204, 155, 106], [126, 70, 98, 84], [141, 19, 194, 246], [216, 184, 232, 144], [57, 247, 94, 46], [195, 175, 245, 130], [93, 128, 190, 159], [208, 147, 124, 105], [213, 45, 169, 111], [37, 18, 179, 207], [172, 153, 59, 200], [24, 125, 167, 16], [156, 99, 110, 232], [59, 187, 123, 219], [38, 120, 9, 205], [89, 24, 244, 110], [154, 183, 1, 236], [79, 154, 168, 131], [149, 110, 101, 230], [255, 230, 126, 170], [188, 207, 8, 33], [21, 232, 230, 239], [231, 155, 217, 186], [111, 54, 206, 74], [159, 9, 212, 234], [176, 124, 214, 41], [164, 178, 175, 49], [63, 35, 49, 42], [165, 148, 48, 198], [162, 102, 192, 53], [78, 188, 55, 116], [130, 202, 166, 252], [144, 208, 176, 224], [167, 216, 21, 51], [4, 152, 74, 241], [236, 218, 247, 65], [205, 80, 14, 127], [145, 246, 47, 23], [77, 214, 141, 118], [239, 176, 77, 67], [170, 77, 84, 204], [150, 4, 223, 228], [209, 181, 227, 158], [106, 136, 27, 76], [44, 31, 184, 193], [101, 81, 127, 70], [94, 234, 4, 157], [140, 53, 93, 1], [135, 116, 115, 250], [11, 65, 46, 251], [103, 29, 90, 179], [219, 210, 82, 146], [16, 86, 51, 233], [214, 71, 19, 109], [215, 97, 140, 154], [161, 12, 122, 55], [248, 20, 142, 89], [19, 60, 137, 235], [169, 39, 238, 206], [97, 201, 53, 183], [28, 229, 237, 225], [71, 177, 60, 122], [210, 223, 89, 156], [242, 115, 63, 85], [20, 206, 121, 24], [199, 55, 191, 115], [247, 205, 234, 83], [253, 170, 91, 95], [61, 111, 20, 223], [68, 219, 134, 120], [175, 243, 129, 202], [104, 196, 62, 185], [36, 52, 44, 56], [163, 64, 95, 194], [29, 195, 114, 22], [226, 37, 12, 188], [60, 73, 139, 40], [13, 149, 65, 255], [168, 1, 113, 57], [12, 179, 222, 8], [180, 228, 156, 216], [86, 193, 144, 100], [203, 132, 97, 123], [50, 182, 112, 213], [108, 92, 116, 72], [184, 87, 66, 208]]

t0=[[198, 99, 99, 165], [248, 124, 124, 132], [238, 119, 119, 153], [246, 123, 123, 141], [255, 242, 242, 13], [214, 107, 107, 189], [222, 111, 111, 177], [145, 197, 197, 84], [96, 48, 48, 80], [2, 1, 1, 3], [206, 103, 103, 169], [86, 43, 43, 125], [231, 254, 254, 25], [181, 215, 215, 98], [77, 171, 171, 230], [236, 118, 118, 154], [143, 202, 202, 69], [31, 130, 130, 157], [137, 201, 201, 64], [250, 125, 125, 135], [239, 250, 250, 21], [178, 89, 89, 235], [142, 71, 71, 201], [251, 240, 240, 11], [65, 173, 173, 236], [179, 212, 212, 103], [95, 162, 162, 253], [69, 175, 175, 234], [35, 156, 156, 191], [83, 164, 164, 247], [228, 114, 114, 150], [155, 192, 192, 91], [117, 183, 183, 194], [225, 253, 253, 28], [61, 147, 147, 174], [76, 38, 38, 106], [108, 54, 54, 90], [126, 63, 63, 65], [245, 247, 247, 2], [131, 204, 204, 79], [104, 52, 52, 92], [81, 165, 165, 244], [209, 229, 229, 52], [249, 241, 241, 8], [226, 113, 113, 147], [171, 216, 216, 115], [98, 49, 49, 83], [42, 21, 21, 63], [8, 4, 4, 12], [149, 199, 199, 82], [70, 35, 35, 101], [157, 195, 195, 94], [48, 24, 24, 40], [55, 150, 150, 161], [10, 5, 5, 15], [47, 154, 154, 181], [14, 7, 7, 9], [36, 18, 18, 54], [27, 128, 128, 155], [223, 226, 226, 61], [205, 235, 235, 38], [78, 39, 39, 105], [127, 178, 178, 205], [234, 117, 117, 159], [18, 9, 9, 27], [29, 131, 131, 158], [88, 44, 44, 116], [52, 26, 26, 46], [54, 27, 27, 45], [220, 110, 110, 178], [180, 90, 90, 238], [91, 160, 160, 251], [164, 82, 82, 246], [118, 59, 59, 77], [183, 214, 214, 97], [125, 179, 179, 206], [82, 41, 41, 123], [221, 227, 227, 62], [94, 47, 47, 113], [19, 132, 132, 151], [166, 83, 83, 245], [185, 209, 209, 104], [0, 0, 0, 0], [193, 237, 237, 44], [64, 32, 32, 96], [227, 252, 252, 31], [121, 177, 177, 200], [182, 91, 91, 237], [212, 106, 106, 190], [141, 203, 203, 70], [103, 190, 190, 217], [114, 57, 57, 75], [148, 74, 74, 222], [152, 76, 76, 212], [176, 88, 88, 232], [133, 207, 207, 74], [187, 208, 208, 107], [197, 239, 239, 42], [79, 170, 170, 229], [237, 251, 251, 22], [134, 67, 67, 197], [154, 77, 77, 215], [102, 51, 51, 85], [17, 133, 133, 148], [138, 69, 69, 207], [233, 249, 249, 16], [4, 2, 2, 6], [254, 127, 127, 129], [160, 80, 80, 240], [120, 60, 60, 68], [37, 159, 159, 186], [75, 168, 168, 227], [162, 81, 81, 243], [93, 163, 163, 254], [128, 64, 64, 192], [5, 143, 143, 138], [63, 146, 146, 173], [33, 157, 157, 188], [112, 56, 56, 72], [241, 245, 245, 4], [99, 188, 188, 223], [119, 182, 182, 193], [175, 218, 218, 117], [66, 33, 33, 99], [32, 16, 16, 48], [229, 255, 255, 26], [253, 243, 243, 14], [191, 210, 210, 109], [129, 205, 205, 76], [24, 12, 12, 20], [38, 19, 19, 53], [195, 236, 236, 47], [190, 95, 95, 225], [53, 151, 151, 162], [136, 68, 68, 204], [46, 23, 23, 57], [147, 196, 196, 87], [85, 167, 167, 242], [252, 126, 126, 130], [122, 61, 61, 71], [200, 100, 100, 172], [186, 93, 93, 231], [50, 25, 25, 43], [230, 115, 115, 149], [192, 96, 96, 160], [25, 129, 129, 152], [158, 79, 79, 209], [163, 220, 220, 127], [68, 34, 34, 102], [84, 42, 42, 126], [59, 144, 144, 171], [11, 136, 136, 131], [140, 70, 70, 202], [199, 238, 238, 41], [107, 184, 184, 211], [40, 20, 20, 60], [167, 222, 222, 121], [188, 94, 94, 226], [22, 11, 11, 29], [173, 219, 219, 118], [219, 224, 224, 59], [100, 50, 50, 86], [116, 58, 58, 78], [20, 10, 10, 30], [146, 73, 73, 219], [12, 6, 6, 10], [72, 36, 36, 108], [184, 92, 92, 228], [159, 194, 194, 93], [189, 211, 211, 110], [67, 172, 172, 239], [196, 98, 98, 166], [57, 145, 145, 168], [49, 149, 149, 164], [211, 228, 228, 55], [242, 121, 121, 139], [213, 231, 231, 50], [139, 200, 200, 67], [110, 55, 55, 89], [218, 109, 109, 183], [1, 141, 141, 140], [177, 213, 213, 100], [156, 78, 78, 210], [73, 169, 169, 224], [216, 108, 108, 180], [172, 86, 86, 250], [243, 244, 244, 7], [207, 234, 234, 37], [202, 101, 101, 175], [244, 122, 122, 142], [71, 174, 174, 233], [16, 8, 8, 24], [111, 186, 186, 213], [240, 120, 120, 136], [74, 37, 37, 111], [92, 46, 46, 114], [56, 28, 28, 36], [87, 166, 166, 241], [115, 180, 180, 199], [151, 198, 198, 81], [203, 232, 232, 35], [161, 221, 221, 124], [232, 116, 116, 156], [62, 31, 31, 33], [150, 75, 75, 221], [97, 189, 189, 220], [13, 139, 139, 134], [15, 138, 138, 133], [224, 112, 112, 144], [124, 62, 62, 66], [113, 181, 181, 196], [204, 102, 102, 170], [144, 72, 72, 216], [6, 3, 3, 5], [247, 246, 246, 1], [28, 14, 14, 18], [194, 97, 97, 163], [106, 53, 53, 95], [174, 87, 87, 249], [105, 185, 185, 208], [23, 134, 134, 145], [153, 193, 193, 88], [58, 29, 29, 39], [39, 158, 158, 185], [217, 225, 225, 56], [235, 248, 248, 19], [43, 152, 152, 179], [34, 17, 17, 51], [210, 105, 105, 187], [169, 217, 217, 112], [7, 142, 142, 137], [51, 148, 148, 167], [45, 155, 155, 182], [60, 30, 30, 34], [21, 135, 135, 146], [201, 233, 233, 32], [135, 206, 206, 73], [170, 85, 85, 255], [80, 40, 40, 120], [165, 223, 223, 122], [3, 140, 140, 143], [89, 161, 161, 248], [9, 137, 137, 128], [26, 13, 13, 23], [101, 191, 191, 218], [215, 230, 230, 49], [132, 66, 66, 198], [208, 104, 104, 184], [130, 65, 65, 195], [41, 153, 153, 176], [90, 45, 45, 119], [30, 15, 15, 17], [123, 176, 176, 203], [168, 84, 84, 252], [109, 187, 187, 214], [44, 22, 22, 58]]
t1=[[165, 198, 99, 99], [132, 248, 124, 124], [153, 238, 119, 119], [141, 246, 123, 123], [13, 255, 242, 242], [189, 214, 107, 107], [177, 222, 111, 111], [84, 145, 197, 197], [80, 96, 48, 48], [3, 2, 1, 1], [169, 206, 103, 103], [125, 86, 43, 43], [25, 231, 254, 254], [98, 181, 215, 215], [230, 77, 171, 171], [154, 236, 118, 118], [69, 143, 202, 202], [157, 31, 130, 130], [64, 137, 201, 201], [135, 250, 125, 125], [21, 239, 250, 250], [235, 178, 89, 89], [201, 142, 71, 71], [11, 251, 240, 240], [236, 65, 173, 173], [103, 179, 212, 212], [253, 95, 162, 162], [234, 69, 175, 175], [191, 35, 156, 156], [247, 83, 164, 164], [150, 228, 114, 114], [91, 155, 192, 192], [194, 117, 183, 183], [28, 225, 253, 253], [174, 61, 147, 147], [106, 76, 38, 38], [90, 108, 54, 54], [65, 126, 63, 63], [2, 245, 247, 247], [79, 131, 204, 204], [92, 104, 52, 52], [244, 81, 165, 165], [52, 209, 229, 229], [8, 249, 241, 241], [147, 226, 113, 113], [115, 171, 216, 216], [83, 98, 49, 49], [63, 42, 21, 21], [12, 8, 4, 4], [82, 149, 199, 199], [101, 70, 35, 35], [94, 157, 195, 195], [40, 48, 24, 24], [161, 55, 150, 150], [15, 10, 5, 5], [181, 47, 154, 154], [9, 14, 7, 7], [54, 36, 18, 18], [155, 27, 128, 128], [61, 223, 226, 226], [38, 205, 235, 235], [105, 78, 39, 39], [205, 127, 178, 178], [159, 234, 117, 117], [27, 18, 9, 9], [158, 29, 131, 131], [116, 88, 44, 44], [46, 52, 26, 26], [45, 54, 27, 27], [178, 220, 110, 110], [238, 180, 90, 90], [251, 91, 160, 160], [246, 164, 82, 82], [77, 118, 59, 59], [97, 183, 214, 214], [206, 125, 179, 179], [123, 82, 41, 41], [62, 221, 227, 227], [113, 94, 47, 47], [151, 19, 132, 132], [245, 166, 83, 83], [104, 185, 209, 209], [0, 0, 0, 0], [44, 193, 237, 237], [96, 64, 32, 32], [31, 227, 252, 252], [200, 121, 177, 177], [237, 182, 91, 91], [190, 212, 106, 106], [70, 141, 203, 203], [217, 103, 190, 190], [75, 114, 57, 57], [222, 148, 74, 74], [212, 152, 76, 76], [232, 176, 88, 88], [74, 133, 207, 207], [107, 187, 208, 208], [42, 197, 239, 239], [229, 79, 170, 170], [22, 237, 251, 251], [197, 134, 67, 67], [215, 154, 77, 77], [85, 102, 51, 51], [148, 17, 133, 133], [207, 138, 69, 69], [16, 233, 249, 249], [6, 4, 2, 2], [129, 254, 127, 127], [240, 160, 80, 80], [68, 120, 60, 60], [186, 37, 159, 159], [227, 75, 168, 168], [243, 162, 81, 81], [254, 93, 163, 163], [192, 128, 64, 64], [138, 5, 143, 143], [173, 63, 146, 146], [188, 33, 157, 157], [72, 112, 56, 56], [4, 241, 245, 245], [223, 99, 188, 188], [193, 119, 182, 182], [117, 175, 218, 218], [99, 66, 33, 33], [48, 32, 16, 16], [26, 229, 255, 255], [14, 253, 243, 243], [109, 191, 210, 210], [76, 129, 205, 205], [20, 24, 12, 12], [53, 38, 19, 19], [47, 195, 236, 236], [225, 190, 95, 95], [162, 53, 151, 151], [204, 136, 68, 68], [57, 46, 23, 23], [87, 147, 196, 196], [242, 85, 167, 167], [130, 252, 126, 126], [71, 122, 61, 61], [172, 200, 100, 100], [231, 186, 93, 93], [43, 50, 25, 25], [149, 230, 115, 115], [160, 192, 96, 96], [152, 25, 129, 129], [209, 158, 79, 79], [127, 163, 220, 220], [102, 68, 34, 34], [126, 84, 42, 42], [171, 59, 144, 144], [131, 11, 136, 136], [202, 140, 70, 70], [41, 199, 238, 238], [211, 107, 184, 184], [60, 40, 20, 20], [121, 167, 222, 222], [226, 188, 94, 94], [29, 22, 11, 11], [118, 173, 219, 219], [59, 219, 224, 224], [86, 100, 50, 50], [78, 116, 58, 58], [30, 20, 10, 10], [219, 146, 73, 73], [10, 12, 6, 6], [108, 72, 36, 36], [228, 184, 92, 92], [93, 159, 194, 194], [110, 189, 211, 211], [239, 67, 172, 172], [166, 196, 98, 98], [168, 57, 145, 145], [164, 49, 149, 149], [55, 211, 228, 228], [139, 242, 121, 121], [50, 213, 231, 231], [67, 139, 200, 200], [89, 110, 55, 55], [183, 218, 109, 109], [140, 1, 141, 141], [100, 177, 213, 213], [210, 156, 78, 78], [224, 73, 169, 169], [180, 216, 108, 108], [250, 172, 86, 86], [7, 243, 244, 244], [37, 207, 234, 234], [175, 202, 101, 101], [142, 244, 122, 122], [233, 71, 174, 174], [24, 16, 8, 8], [213, 111, 186, 186], [136, 240, 120, 120], [111, 74, 37, 37], [114, 92, 46, 46], [36, 56, 28, 28], [241, 87, 166, 166], [199, 115, 180, 180], [81, 151, 198, 198], [35, 203, 232, 232], [124, 161, 221, 221], [156, 232, 116, 116], [33, 62, 31, 31], [221, 150, 75, 75], [220, 97, 189, 189], [134, 13, 139, 139], [133, 15, 138, 138], [144, 224, 112, 112], [66, 124, 62, 62], [196, 113, 181, 181], [170, 204, 102, 102], [216, 144, 72, 72], [5, 6, 3, 3], [1, 247, 246, 246], [18, 28, 14, 14], [163, 194, 97, 97], [95, 106, 53, 53], [249, 174, 87, 87], [208, 105, 185, 185], [145, 23, 134, 134], [88, 153, 193, 193], [39, 58, 29, 29], [185, 39, 158, 158], [56, 217, 225, 225], [19, 235, 248, 248], [179, 43, 152, 152], [51, 34, 17, 17], [187, 210, 105, 105], [112, 169, 217, 217], [137, 7, 142, 142], [167, 51, 148, 148], [182, 45, 155, 155], [34, 60, 30, 30], [146, 21, 135, 135], [32, 201, 233, 233], [73, 135, 206, 206], [255, 170, 85, 85], [120, 80, 40, 40], [122, 165, 223, 223], [143, 3, 140, 140], [248, 89, 161, 161], [128, 9, 137, 137], [23, 26, 13, 13], [218, 101, 191, 191], [49, 215, 230, 230], [198, 132, 66, 66], [184, 208, 104, 104], [195, 130, 65, 65], [176, 41, 153, 153], [119, 90, 45, 45], [17, 30, 15, 15], [203, 123, 176, 176], [252, 168, 84, 84], [214, 109, 187, 187], [58, 44, 22, 22]]
t2=[[99, 165, 198, 99], [124, 132, 248, 124], [119, 153, 238, 119], [123, 141, 246, 123], [242, 13, 255, 242], [107, 189, 214, 107], [111, 177, 222, 111], [197, 84, 145, 197], [48, 80, 96, 48], [1, 3, 2, 1], [103, 169, 206, 103], [43, 125, 86, 43], [254, 25, 231, 254], [215, 98, 181, 215], [171, 230, 77, 171], [118, 154, 236, 118], [202, 69, 143, 202], [130, 157, 31, 130], [201, 64, 137, 201], [125, 135, 250, 125], [250, 21, 239, 250], [89, 235, 178, 89], [71, 201, 142, 71], [240, 11, 251, 240], [173, 236, 65, 173], [212, 103, 179, 212], [162, 253, 95, 162], [175, 234, 69, 175], [156, 191, 35, 156], [164, 247, 83, 164], [114, 150, 228, 114], [192, 91, 155, 192], [183, 194, 117, 183], [253, 28, 225, 253], [147, 174, 61, 147], [38, 106, 76, 38], [54, 90, 108, 54], [63, 65, 126, 63], [247, 2, 245, 247], [204, 79, 131, 204], [52, 92, 104, 52], [165, 244, 81, 165], [229, 52, 209, 229], [241, 8, 249, 241], [113, 147, 226, 113], [216, 115, 171, 216], [49, 83, 98, 49], [21, 63, 42, 21], [4, 12, 8, 4], [199, 82, 149, 199], [35, 101, 70, 35], [195, 94, 157, 195], [24, 40, 48, 24], [150, 161, 55, 150], [5, 15, 10, 5], [154, 181, 47, 154], [7, 9, 14, 7], [18, 54, 36, 18], [128, 155, 27, 128], [226, 61, 223, 226], [235, 38, 205, 235], [39, 105, 78, 39], [178, 205, 127, 178], [117, 159, 234, 117], [9, 27, 18, 9], [131, 158, 29, 131], [44, 116, 88, 44], [26, 46, 52, 26], [27, 45, 54, 27], [110, 178, 220, 110], [90, 238, 180, 90], [160, 251, 91, 160], [82, 246, 164, 82], [59, 77, 118, 59], [214, 97, 183, 214], [179, 206, 125, 179], [41, 123, 82, 41], [227, 62, 221, 227], [47, 113, 94, 47], [132, 151, 19, 132], [83, 245, 166, 83], [209, 104, 185, 209], [0, 0, 0, 0], [237, 44, 193, 237], [32, 96, 64, 32], [252, 31, 227, 252], [177, 200, 121, 177], [91, 237, 182, 91], [106, 190, 212, 106], [203, 70, 141, 203], [190, 217, 103, 190], [57, 75, 114, 57], [74, 222, 148, 74], [76, 212, 152, 76], [88, 232, 176, 88], [207, 74, 133, 207], [208, 107, 187, 208], [239, 42, 197, 239], [170, 229, 79, 170], [251, 22, 237, 251], [67, 197, 134, 67], [77, 215, 154, 77], [51, 85, 102, 51], [133, 148, 17, 133], [69, 207, 138, 69], [249, 16, 233, 249], [2, 6, 4, 2], [127, 129, 254, 127], [80, 240, 160, 80], [60, 68, 120, 60], [159, 186, 37, 159], [168, 227, 75, 168], [81, 243, 162, 81], [163, 254, 93, 163], [64, 192, 128, 64], [143, 138, 5, 143], [146, 173, 63, 146], [157, 188, 33, 157], [56, 72, 112, 56], [245, 4, 241, 245], [188, 223, 99, 188], [182, 193, 119, 182], [218, 117, 175, 218], [33, 99, 66, 33], [16, 48, 32, 16], [255, 26, 229, 255], [243, 14, 253, 243], [210, 109, 191, 210], [205, 76, 129, 205], [12, 20, 24, 12], [19, 53, 38, 19], [236, 47, 195, 236], [95, 225, 190, 95], [151, 162, 53, 151], [68, 204, 136, 68], [23, 57, 46, 23], [196, 87, 147, 196], [167, 242, 85, 167], [126, 130, 252, 126], [61, 71, 122, 61], [100, 172, 200, 100], [93, 231, 186, 93], [25, 43, 50, 25], [115, 149, 230, 115], [96, 160, 192, 96], [129, 152, 25, 129], [79, 209, 158, 79], [220, 127, 163, 220], [34, 102, 68, 34], [42, 126, 84, 42], [144, 171, 59, 144], [136, 131, 11, 136], [70, 202, 140, 70], [238, 41, 199, 238], [184, 211, 107, 184], [20, 60, 40, 20], [222, 121, 167, 222], [94, 226, 188, 94], [11, 29, 22, 11], [219, 118, 173, 219], [224, 59, 219, 224], [50, 86, 100, 50], [58, 78, 116, 58], [10, 30, 20, 10], [73, 219, 146, 73], [6, 10, 12, 6], [36, 108, 72, 36], [92, 228, 184, 92], [194, 93, 159, 194], [211, 110, 189, 211], [172, 239, 67, 172], [98, 166, 196, 98], [145, 168, 57, 145], [149, 164, 49, 149], [228, 55, 211, 228], [121, 139, 242, 121], [231, 50, 213, 231], [200, 67, 139, 200], [55, 89, 110, 55], [109, 183, 218, 109], [141, 140, 1, 141], [213, 100, 177, 213], [78, 210, 156, 78], [169, 224, 73, 169], [108, 180, 216, 108], [86, 250, 172, 86], [244, 7, 243, 244], [234, 37, 207, 234], [101, 175, 202, 101], [122, 142, 244, 122], [174, 233, 71, 174], [8, 24, 16, 8], [186, 213, 111, 186], [120, 136, 240, 120], [37, 111, 74, 37], [46, 114, 92, 46], [28, 36, 56, 28], [166, 241, 87, 166], [180, 199, 115, 180], [198, 81, 151, 198], [232, 35, 203, 232], [221, 124, 161, 221], [116, 156, 232, 116], [31, 33, 62, 31], [75, 221, 150, 75], [189, 220, 97, 189], [139, 134, 13, 139], [138, 133, 15, 138], [112, 144, 224, 112], [62, 66, 124, 62], [181, 196, 113, 181], [102, 170, 204, 102], [72, 216, 144, 72], [3, 5, 6, 3], [246, 1, 247, 246], [14, 18, 28, 14], [97, 163, 194, 97], [53, 95, 106, 53], [87, 249, 174, 87], [185, 208, 105, 185], [134, 145, 23, 134], [193, 88, 153, 193], [29, 39, 58, 29], [158, 185, 39, 158], [225, 56, 217, 225], [248, 19, 235, 248], [152, 179, 43, 152], [17, 51, 34, 17], [105, 187, 210, 105], [217, 112, 169, 217], [142, 137, 7, 142], [148, 167, 51, 148], [155, 182, 45, 155], [30, 34, 60, 30], [135, 146, 21, 135], [233, 32, 201, 233], [206, 73, 135, 206], [85, 255, 170, 85], [40, 120, 80, 40], [223, 122, 165, 223], [140, 143, 3, 140], [161, 248, 89, 161], [137, 128, 9, 137], [13, 23, 26, 13], [191, 218, 101, 191], [230, 49, 215, 230], [66, 198, 132, 66], [104, 184, 208, 104], [65, 195, 130, 65], [153, 176, 41, 153], [45, 119, 90, 45], [15, 17, 30, 15], [176, 203, 123, 176], [84, 252, 168, 84], [187, 214, 109, 187], [22, 58, 44, 22]]
t3=[[99, 99, 165, 198], [124, 124, 132, 248], [119, 119, 153, 238], [123, 123, 141, 246], [242, 242, 13, 255], [107, 107, 189, 214], [111, 111, 177, 222], [197, 197, 84, 145], [48, 48, 80, 96], [1, 1, 3, 2], [103, 103, 169, 206], [43, 43, 125, 86], [254, 254, 25, 231], [215, 215, 98, 181], [171, 171, 230, 77], [118, 118, 154, 236], [202, 202, 69, 143], [130, 130, 157, 31], [201, 201, 64, 137], [125, 125, 135, 250], [250, 250, 21, 239], [89, 89, 235, 178], [71, 71, 201, 142], [240, 240, 11, 251], [173, 173, 236, 65], [212, 212, 103, 179], [162, 162, 253, 95], [175, 175, 234, 69], [156, 156, 191, 35], [164, 164, 247, 83], [114, 114, 150, 228], [192, 192, 91, 155], [183, 183, 194, 117], [253, 253, 28, 225], [147, 147, 174, 61], [38, 38, 106, 76], [54, 54, 90, 108], [63, 63, 65, 126], [247, 247, 2, 245], [204, 204, 79, 131], [52, 52, 92, 104], [165, 165, 244, 81], [229, 229, 52, 209], [241, 241, 8, 249], [113, 113, 147, 226], [216, 216, 115, 171], [49, 49, 83, 98], [21, 21, 63, 42], [4, 4, 12, 8], [199, 199, 82, 149], [35, 35, 101, 70], [195, 195, 94, 157], [24, 24, 40, 48], [150, 150, 161, 55], [5, 5, 15, 10], [154, 154, 181, 47], [7, 7, 9, 14], [18, 18, 54, 36], [128, 128, 155, 27], [226, 226, 61, 223], [235, 235, 38, 205], [39, 39, 105, 78], [178, 178, 205, 127], [117, 117, 159, 234], [9, 9, 27, 18], [131, 131, 158, 29], [44, 44, 116, 88], [26, 26, 46, 52], [27, 27, 45, 54], [110, 110, 178, 220], [90, 90, 238, 180], [160, 160, 251, 91], [82, 82, 246, 164], [59, 59, 77, 118], [214, 214, 97, 183], [179, 179, 206, 125], [41, 41, 123, 82], [227, 227, 62, 221], [47, 47, 113, 94], [132, 132, 151, 19], [83, 83, 245, 166], [209, 209, 104, 185], [0, 0, 0, 0], [237, 237, 44, 193], [32, 32, 96, 64], [252, 252, 31, 227], [177, 177, 200, 121], [91, 91, 237, 182], [106, 106, 190, 212], [203, 203, 70, 141], [190, 190, 217, 103], [57, 57, 75, 114], [74, 74, 222, 148], [76, 76, 212, 152], [88, 88, 232, 176], [207, 207, 74, 133], [208, 208, 107, 187], [239, 239, 42, 197], [170, 170, 229, 79], [251, 251, 22, 237], [67, 67, 197, 134], [77, 77, 215, 154], [51, 51, 85, 102], [133, 133, 148, 17], [69, 69, 207, 138], [249, 249, 16, 233], [2, 2, 6, 4], [127, 127, 129, 254], [80, 80, 240, 160], [60, 60, 68, 120], [159, 159, 186, 37], [168, 168, 227, 75], [81, 81, 243, 162], [163, 163, 254, 93], [64, 64, 192, 128], [143, 143, 138, 5], [146, 146, 173, 63], [157, 157, 188, 33], [56, 56, 72, 112], [245, 245, 4, 241], [188, 188, 223, 99], [182, 182, 193, 119], [218, 218, 117, 175], [33, 33, 99, 66], [16, 16, 48, 32], [255, 255, 26, 229], [243, 243, 14, 253], [210, 210, 109, 191], [205, 205, 76, 129], [12, 12, 20, 24], [19, 19, 53, 38], [236, 236, 47, 195], [95, 95, 225, 190], [151, 151, 162, 53], [68, 68, 204, 136], [23, 23, 57, 46], [196, 196, 87, 147], [167, 167, 242, 85], [126, 126, 130, 252], [61, 61, 71, 122], [100, 100, 172, 200], [93, 93, 231, 186], [25, 25, 43, 50], [115, 115, 149, 230], [96, 96, 160, 192], [129, 129, 152, 25], [79, 79, 209, 158], [220, 220, 127, 163], [34, 34, 102, 68], [42, 42, 126, 84], [144, 144, 171, 59], [136, 136, 131, 11], [70, 70, 202, 140], [238, 238, 41, 199], [184, 184, 211, 107], [20, 20, 60, 40], [222, 222, 121, 167], [94, 94, 226, 188], [11, 11, 29, 22], [219, 219, 118, 173], [224, 224, 59, 219], [50, 50, 86, 100], [58, 58, 78, 116], [10, 10, 30, 20], [73, 73, 219, 146], [6, 6, 10, 12], [36, 36, 108, 72], [92, 92, 228, 184], [194, 194, 93, 159], [211, 211, 110, 189], [172, 172, 239, 67], [98, 98, 166, 196], [145, 145, 168, 57], [149, 149, 164, 49], [228, 228, 55, 211], [121, 121, 139, 242], [231, 231, 50, 213], [200, 200, 67, 139], [55, 55, 89, 110], [109, 109, 183, 218], [141, 141, 140, 1], [213, 213, 100, 177], [78, 78, 210, 156], [169, 169, 224, 73], [108, 108, 180, 216], [86, 86, 250, 172], [244, 244, 7, 243], [234, 234, 37, 207], [101, 101, 175, 202], [122, 122, 142, 244], [174, 174, 233, 71], [8, 8, 24, 16], [186, 186, 213, 111], [120, 120, 136, 240], [37, 37, 111, 74], [46, 46, 114, 92], [28, 28, 36, 56], [166, 166, 241, 87], [180, 180, 199, 115], [198, 198, 81, 151], [232, 232, 35, 203], [221, 221, 124, 161], [116, 116, 156, 232], [31, 31, 33, 62], [75, 75, 221, 150], [189, 189, 220, 97], [139, 139, 134, 13], [138, 138, 133, 15], [112, 112, 144, 224], [62, 62, 66, 124], [181, 181, 196, 113], [102, 102, 170, 204], [72, 72, 216, 144], [3, 3, 5, 6], [246, 246, 1, 247], [14, 14, 18, 28], [97, 97, 163, 194], [53, 53, 95, 106], [87, 87, 249, 174], [185, 185, 208, 105], [134, 134, 145, 23], [193, 193, 88, 153], [29, 29, 39, 58], [158, 158, 185, 39], [225, 225, 56, 217], [248, 248, 19, 235], [152, 152, 179, 43], [17, 17, 51, 34], [105, 105, 187, 210], [217, 217, 112, 169], [142, 142, 137, 7], [148, 148, 167, 51], [155, 155, 182, 45], [30, 30, 34, 60], [135, 135, 146, 21], [233, 233, 32, 201], [206, 206, 73, 135], [85, 85, 255, 170], [40, 40, 120, 80], [223, 223, 122, 165], [140, 140, 143, 3], [161, 161, 248, 89], [137, 137, 128, 9], [13, 13, 23, 26], [191, 191, 218, 101], [230, 230, 49, 215], [66, 66, 198, 132], [104, 104, 184, 208], [65, 65, 195, 130], [153, 153, 176, 41], [45, 45, 119, 90], [15, 15, 17, 30], [176, 176, 203, 123], [84, 84, 252, 168], [187, 187, 214, 109], [22, 22, 58, 44]]

class Word(object):
    def __init__(self, intList):
        self.word = intList

    def g(self, round):
        tempWord = Word(self.word)
        tempWord.word = self.word[1:] + [self.word[0]]
        tempWord.word = [S_BOX[integer//16][integer%16] for integer in tempWord.word]
        tempWord.word[0] ^= RC[round]
        return tempWord
        
    def getWord(self):
        return [self.word[i] for i in range(4)]

    def wordXor(self, w):
        return Word([self.word[i] ^ w.getWord()[i] for i in range(4)])


class Key(object):
    def __init__(self, key_32):
        self.key = key_32
        seperate = [key_32[i:i+2] for i in range(0, 32, 2)]
        self.wordList = [Word([int(sp, 16) for sp in seperate[i:i+4]]) for i in range(0, 16, 4)]
        self.wordList += [0] * 40
        self.roundKeys = []
    
    def generateKey(self):
        for flag in range(4, 44):
            if flag % 4 == 0:
                self.wordList[flag] = self.wordList[flag-4].wordXor(self.wordList[flag-1].g(flag//4 - 1))
            else:
                self.wordList[flag] = self.wordList[flag-4].wordXor(self.wordList[flag-1])
        for round in range(11):
            temp = [word.getWord() for word in self.wordList[round*4:round*4+4]]
            for i in range(4):
                for j in range(i, 4):
                    temp[i][j], temp[j][i] = temp[j][i], temp[i][j]
            self.roundKeys.append(temp)

    def getRoundKey(self, round):
        '''
        temp = [word.getWord() for word in self.wordList[round*4:round*4+4]]
        for i in range(4):
            for j in range(i, 4):
                temp[i][j], temp[j][i] = temp[j][i], temp[i][j]
        return temp
        '''
        temp = [[0] * 4 for i in range(4)]
        for i in range(4):
            for j in range(4):
                temp[i][j] = self.roundKeys[round][i][j]
        return temp


class State(object):
    def __init__(self):
        self.plain = None
        self.matrix = [[0] * 4 for i in range(4)]

    def set(self, plain_32):
        self.plain = plain_32
        seperate = [plain_32[i:i+2] for i in range(0, 32, 2)]
        flag = 0
        #self.matrix = [[0] * 4 for i in range(4)]
        for j in range(4):
            for i in range(4):
                self.matrix[i][j] = int(seperate[flag], 16)
                flag += 1
    
    def substitute(self):
        for i in range(4):
            for j in range(4):
                temp = self.matrix[i][j]
                self.matrix[i][j] = S_BOX[temp//16][temp%16]

    def revSubstitute(self):
        for i in range(4):
            for j in range(4):
                temp = self.matrix[i][j]
                self.matrix[i][j] = REV_S_BOX[temp//16][temp%16]

    def shiftRows(self):
        self.matrix[1] = self.matrix[1][1:] + [self.matrix[1][0]]
        self.matrix[2] = self.matrix[2][2:] + self.matrix[2][:2]
        self.matrix[3] = [self.matrix[3][3]] + self.matrix[3][:3]

    def revShiftRows(self):
        self.matrix[1] = [self.matrix[1][-1]] + self.matrix[1][:-1]
        self.matrix[2] = self.matrix[2][2:] + self.matrix[2][:2]
        self.matrix[3] = self.matrix[3][1:] + [self.matrix[3][0]]

    def addRoundKey(self, key):
        for i in range(4):
            for j in range(4):
                self.matrix[i][j] ^= key[i][j]

    def revAddRoundKey(self, key):
        temp = [["0"] * 4 for i in range(4)]
        for i in range(4):
            for j in range(4):
                for k in range(4):
                    temp[i][j] = add(temp[i][j], 
                        multiply(int_to_bin(revMixColumnTable[i][k]), int_to_bin(key[k][j])))
        for i in range(4):
            for j in range(4):
                key[i][j] = int(temp[i][j], 2)
                self.matrix[i][j] ^= key[i][j]

    def outputCipher(self):
        temp = [[self.matrix[i][j] for j in range(4)] for i in range(4)]
        for i in range(4):
            for j in range(i, 4):
                temp[i][j], temp[j][i] = temp[j][i], temp[i][j]
        return ''.join([''.join([int_to_hex(elm, 2) for elm in row]) for row in temp])

class AES(object):
    def __init__(self):
        self.state = State()
        self.key = None

    def set(self, plain_32, key):
        self.state.set(plain_32)
        self.key = key

    def encrypt(self):
        for round in range(11):
            if round == 0:
                self.state.addRoundKey(self.key.getRoundKey(round))
            elif round == 10:
                self.state.substitute()
                self.state.shiftRows()
                self.state.addRoundKey(self.key.getRoundKey(round))
            else:
                key_src = self.key.getRoundKey(round)
                result = [[0] * 4 for i in range(4)]
                for j in range(4):
                    temp = t0[self.state.matrix[0][j]]
                    temp1 = t1[self.state.matrix[1][(j+1)%4]]
                    temp2 = t2[self.state.matrix[2][(j+2)%4]]
                    temp3 = t3[self.state.matrix[3][(j+3)%4]]
                    #key_temp = [key_src[i][j] for i in range(4)]
                    for i in range(4):
                        result[i][j] = temp[i] ^ temp1[i] ^ temp2[i] ^ temp3[i] ^ key_src[i][j]
                for i in range(4):
                    for j in range(4):
                        self.state.matrix[i][j] = result[i][j]
                #self.state.matrix = deepcopy(result)

    def decrypt(self):
        for round in range(10, -1, -1):
            if round == 10:
                self.state.addRoundKey(self.key.getRoundKey(round))
            elif round == 0:
                self.state.revSubstitute()
                self.state.revShiftRows()
                self.state.addRoundKey(self.key.getRoundKey(round))
            else:
                result = [[0] * 4 for i in range(4)]
                key_src = self.key.getRoundKey(round)
                for m in range(4):
                    for n in range(4):
                        temp = key_src[m][n]
                        key_src[m][n] = S_BOX[temp//16][temp%16]
                for j in range(4):
                    temp = Ret0[self.state.matrix[0][j]]
                    temp1 = Ret1[self.state.matrix[1][(j-1)%4]]
                    temp2 = Ret2[self.state.matrix[2][(j-2)%4]]
                    temp3 = Ret3[self.state.matrix[3][(j-3)%4]]
                    key_temp = Ret0[key_src[0][j]]
                    key_temp1 = Ret1[key_src[1][j]]
                    key_temp2 = Ret2[key_src[2][j]]
                    key_temp3 = Ret3[key_src[3][j]]
                    for i in range(4):
                        result[i][j] = (temp[i] ^ temp1[i] ^ temp2[i] ^ temp3[i] ^ 
                        key_temp[i] ^ key_temp1[i] ^ key_temp2[i] ^ key_temp3[i])
                for i in range(4):
                    for j in range(4):
                        self.state.matrix[i][j] = result[i][j]
                #self.state.matrix = deepcopy(result)

    def getCipher(self):
        #print("//")
        return self.state.outputCipher()

if __name__ == '__main__':
    key = Key("0f1571c947d9e8590cb7add6af7f6798")
    key.generateKey()
    a = AES()
    a.set("0123456789abcdeffedcba9876543210", key)
    #a.set("ff0b844a0853bf7c6934ab4364148fb9", key)
    start = time()
    a.encrypt()
    end = time()
    #b.decrypt()
    print("Plain:", end='')
    print(a.state.plain)
    print("Key:", end='')
    print(key.key)
    print("Cipher:", end='')
    print(a.getCipher())
    print(end-start)